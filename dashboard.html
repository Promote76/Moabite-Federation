<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SWF Admin Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
</head>
<body>
  <header>
    <h1>SWF Admin Dashboard</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="dashboard.html">Admin Dashboard</a>
    </nav>
  </header>  <main>
    <div id="loginPanel">
      <h2>Admin Login</h2>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <button onclick="login()">Login</button>
    </div><div id="dashboard" style="display:none;">
  <h2>Admin Controls</h2>
  <p>Interact with all three contracts below: SWF Coin, Master DAO, and Ultimate Staking. Functions are gated to admin and wallet connection is required.</p>

  <div>
    <button onclick="connectWallet()">Connect Wallet</button>
    <p id="walletAddress"></p>
  </div>

  <section>
    <h3>SWF Coin Functions</h3>
    <button onclick="mintSWF()">Mint</button>
    <button onclick="burnSWF()">Burn</button>
    <button onclick="pauseSWF()">Pause</button>
    <button onclick="unpauseSWF()">Unpause</button>
    <button onclick="transferOwnershipSWF()">Transfer Ownership</button>
  </section>

  <section>
    <h3>Master DAO Functions</h3>
    <button onclick="createProposal()">Create Proposal</button>
    <button onclick="pauseDAO()">Pause DAO</button>
    <button onclick="unpauseDAO()">Unpause DAO</button>
  </section>

  <section>
    <h3>Ultimate Staking</h3>
    <button onclick="createPool()">Create Staking Pool</button>
    <button onclick="claimRewards()">Claim Rewards</button>
  </section>
</div>

  </main>  <script>
    const swfAddress = "0x83E17aeB148d9b4b7Be0Be7C87dd73531a5a5738";
    const daoAddress = "0x1680F203Aafcbc64adAbD54C15472F7283aA8d08";
    const ultimateAddress = "0xf1aFbA4804dB581f5eC43f7AFC3e522728ddDcF0";

    const swfABI = [/* FULL ABI FROM SWF COIN */];
    const daoABI = [/* FULL ABI FROM MASTER DAO */];
    const ultimateABI = [/* FULL ABI FROM ULTIMATE DAO */];

    let web3;
    let account;
    let swf, dao, ultimate;

    async function connectWallet() {
      if (window.ethereum) {
        web3 = new Web3(window.ethereum);
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
        account = accounts[0];
        document.getElementById("walletAddress").innerText = "Connected: " + account;

        swf = new web3.eth.Contract(swfABI, swfAddress);
        dao = new web3.eth.Contract(daoABI, daoAddress);
        ultimate = new web3.eth.Contract(ultimateABI, ultimateAddress);
      } else {
        alert("Please install MetaMask.");
      }
    }

    function login() {
      const u = document.getElementById("username").value;
      const p = document.getElementById("password").value;
      if (u === "Moor" && p === "Promote9") {
        document.getElementById("loginPanel").style.display = 'none';
        document.getElementById("dashboard").style.display = 'block';
      } else {
        alert("Incorrect login.");
      }
    }

    async function mintSWF() {
      const to = prompt("Recipient address:");
      const amount = prompt("Amount:");
      await swf.methods.mint(to, amount).send({ from: account });
    }

    async function burnSWF() {
      const amount = prompt("Amount to burn:");
      await swf.methods.burn(amount).send({ from: account });
    }

    async function pauseSWF() {
      await swf.methods.pause().send({ from: account });
    }

    async function unpauseSWF() {
      await swf.methods.unpause().send({ from: account });
    }

    async function transferOwnershipSWF() {
      const newOwner = prompt("New Owner Address:");
      await swf.methods.transferOwnership(newOwner).send({ from: account });
    }

    async function createProposal() {
      const description = prompt("Proposal description:");
      await dao.methods.createProposal(description).send({ from: account });
    }

    async function pauseDAO() {
      await dao.methods.pauseContract().send({ from: account });
    }

    async function unpauseDAO() {
      await dao.methods.unpauseContract().send({ from: account });
    }

    async function createPool() {
      const token = prompt("Token address:");
      const rewardRate = prompt("Reward rate:");
      const lockPeriod = prompt("Lock period:");
      await ultimate.methods.createPool(token, rewardRate, lockPeriod).send({ from: account });
    }

    async function claimRewards() {
      const poolId = prompt("Pool ID:");
      await ultimate.methods.claimRewards(poolId).send({ from: account });
    }
  </script></body>
</html>
