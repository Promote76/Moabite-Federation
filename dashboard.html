import React, { useState, useEffect } from "react"; import { ethers } from "ethers"; import SWFABI from "./abis/SWFABI.json"; import DAOMasterABI from "./abis/DAOMasterABI.json"; import UltimateDAOABI from "./abis/UltimateDAOABI.json";

const SWF_ADDRESS = "0x83E17aeB148d9b4b7Be0Be7C87dd73531a5a5738"; const DAO_ADDRESS = "0x1680F203Aafcbc64adAbD54C15472F7283aA8d08"; const ULTIMATE_DAO_ADDRESS = "0xf1aFbA4804dB581f5eC43f7AFC3e522728ddDcF0";

export default function Dashboard() { const [provider, setProvider] = useState(null); const [signer, setSigner] = useState(null); const [account, setAccount] = useState(""); const [balance, setBalance] = useState("0"); const [proposal, setProposal] = useState("");

const [swf, setSwf] = useState(null); const [dao, setDao] = useState(null); const [ultimateDao, setUltimateDao] = useState(null);

useEffect(() => { const init = async () => { const prov = new ethers.BrowserProvider(window.ethereum); const signer = await prov.getSigner(); const acc = await signer.getAddress();

const swf = new ethers.Contract(SWF_ADDRESS, SWFABI, signer);
  const dao = new ethers.Contract(DAO_ADDRESS, DAOMasterABI, signer);
  const ultimateDao = new ethers.Contract(ULTIMATE_DAO_ADDRESS, UltimateDAOABI, signer);

  setProvider(prov);
  setSigner(signer);
  setAccount(acc);
  setSwf(swf);
  setDao(dao);
  setUltimateDao(ultimateDao);

  const bal = await swf.balanceOf(acc);
  setBalance(ethers.formatUnits(bal));
};
init();

}, []);

const createProposal = async () => { if (!proposal) return; await dao.createProposal(proposal); setProposal(""); };

return ( <div style={{ backgroundColor: "#111", color: "#eee", minHeight: "100vh", padding: "2rem", fontFamily: "Segoe UI" }}> <h1 style={{ color: "gold", textAlign: "center" }}>Sovran Wealth Fund DAO Dashboard</h1> <p style={{ textAlign: "center", fontStyle: "italic" }}>Interact with the SWF Token, DAO, and Ultimate DAO Contracts</p>

<section style={{ marginTop: "2rem", background: "#1e1e1e", padding: "1rem", borderRadius: "12px" }}>
    <h2>Your Wallet</h2>
    <p><strong>Address:</strong> {account}</p>
    <p><strong>SWF Balance:</strong> {balance}</p>
  </section>

  <section style={{ marginTop: "2rem", background: "#1e1e1e", padding: "1rem", borderRadius: "12px" }}>
    <h2>Create DAO Proposal</h2>
    <input
      type="text"
      placeholder="Enter proposal description"
      value={proposal}
      onChange={e => setProposal(e.target.value)}
      style={{ width: "100%", padding: "0.5rem", fontSize: "1rem" }}
    />
    <button onClick={createProposal} style={{ marginTop: "1rem", backgroundColor: "gold", padding: "0.5rem 1rem", fontWeight: "bold", border: "none" }}>Submit Proposal</button>
  </section>

  <section style={{ marginTop: "2rem", background: "#1e1e1e", padding: "1rem", borderRadius: "12px" }}>
    <h2>Instructions</h2>
    <ol>
      <li>Connect your MetaMask wallet to this dApp.</li>
      <li>View your SWF token balance and submit proposals.</li>
      <li>Advanced features such as staking, voting, and treasury will be enabled next.</li>
    </ol>
  </section>
</div>

); }

